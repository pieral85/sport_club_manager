<?xml version="1.0" encoding="utf-8"?>

<templates id="template" xml:space="preserve">
    <t t-extend="calendar-box">
        <t t-jquery="div:first" t-operation="replace">
            <div>
                <div t-att-style="typeof color === 'string' ? ('background-color:'+color)+';' : ''" t-attf-class="full-height #{record.is_highlighted &amp;&amp; record.is_highlighted.value ? 'o_event_hightlight' : ''} #{typeof color === 'number' ? 'o_calendar_color_'+color : ''}">
                    <div class="fc-time"/>
                    <div class="o_fields">
                        <t t-foreach="widget.displayFields" t-as="name">
                            <div t-attf-class="o_field_#{name} o_field_type_#{fields[name].type}">
                                <t t-if="widget.displayFields[name].avatar_field">
                                    <t t-if="!isMobile"><t t-esc="fields[name].string"/>:</t>
                                    <div class="o_calendar_avatars float-right">
                                        <t t-foreach="widget.getAvatars(record, name, widget.displayFields[name].avatar_field).slice(0,3)" t-as="image"><t t-raw="image"/></t>
                                        <span t-if="record[name].length - 3 > 0">+<t t-esc="record[name].length - 3"/></span>
                                    </div>
                                </t>
                                <t t-else="">
                                    <t t-esc="format(record, name)"/>
                                </t>
                            </div>
                        </t>
                    </div>
                </div>
            </div>
        </t>
    </t>
</templates>
